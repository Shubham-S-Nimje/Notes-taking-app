<%- include('../includes/top.ejs') %> <%- include('../includes/navigation.ejs')
%>

<main class="container">
  <% if(notes.length> 0){%>
  <h1>List Of Notes</h1>
  <div class="album py-5 bg-body-tertiary">
    <div class="container">
      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
        <% for(let note of notes){%>
        <div class="col">
          <div class="card shadow-sm">
            <img
              class="card-img-top"
              src="<%= note.imageUrl %>"
            >
            </img>
            <div class="card-body">
              <h2 class="fs-6 text-truncate">
                <%= note.title %></h2>
              <p class="card-text text-truncate">
                <%= note.description %>
              </p>
              <div class="d-flex justify-content-between align-items-center">
                <div class="btn-group">
                  <a
                  href="/note/<%= note.noteId %>"
                    type="button"
                    class="btn btn-sm btn-outline-secondary"
                  >
                    View
                  </a>
                  <a
                  href="/add-note/<%= note.noteId %>?isEditing=true"
                    type="button"
                    class="btn btn-sm btn-outline-secondary"
                  >
                    Edit
                  </a>
                  <form action="/delete-note" method="POST">
                    <input type="hidden" name="noteId" value="<%= note.noteId %>" />
                    <button class="btn btn-sm btn-outline-secondary">Delete</button>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
        <%}%>
      </div>
    </div>
  </div>
  <%} else {%>
  <h1>No Notes Found!</h1>
  <%}%>
</main>
<%- include('../includes/bottom.ejs') %>
